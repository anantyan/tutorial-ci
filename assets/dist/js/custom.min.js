$(()=>{$("#v-insert-mahasiswa").submit(function(event){event.preventDefault();var formData=$(this).serialize(),uri=window.location;$.ajax({type:"post",url:uri.protocol+"//"+uri.host+"/tutorial-ci/mahasiswa/insert_action",data:formData,dataType:"json",encode:!0,beforeSend:function(){$("#btn-insert-mahasiswa").attr("disabled",""),$("#btn-insert-mahasiswa").html("Loading...")},success:function(data){1==data.error?($("#error-insert-nim").html(data.nim),$("#error-insert-nama").html(data.nama),$("#error-insert-jurusan").html(data.jurusan),$("#error-insert-alamat").html(data.alamat),$("#btn-insert-mahasiswa").removeAttr("disabled"),$("#btn-insert-mahasiswa").html("Simpan")):0==data.error&&(alert(data.status),$("#error-insert-nim").html(""),$("#error-insert-nama").html(""),$("#error-insert-jurusan").html(""),$("#error-insert-alamat").html(""),$("#btn-insert-mahasiswa").removeAttr("disabled"),$("#btn-insert-mahasiswa").html("Simpan"))}}).fail(function(data){console.log(data)})}),$("body").on("click","#btn-delete-mahasiswa",function(event){if(event.preventDefault(),confirm("Apakah anda ingin hapus data!")){var uri=window.location;$.ajax({type:"post",url:uri.protocol+"//"+uri.host+"/tutorial-ci/mahasiswa/delete/"+$(this).attr("delete-mahasiswa"),dataType:"json",encode:!0,beforeSend:function(){$("#btn-delete-mahasiswa").attr("disabled",""),$("#btn-delete-mahasiswa").attr("Loading...")},success:function(data){1==data.error?(alert(data.id),$("#btn-delete-mahasiswa").removeAttr("disabled"),$("#btn-delete-mahasiswa").html("Hapus")):0==data.error&&(alert(data.status),$("#btn-delete-mahasiswa").removeAttr("disabled"),$("#btn-delete-mahasiswa").html("Hapus"),uri.reload())}}).fail(function(data){console.log(data)})}}),$("#v-update-mahasiswa").submit(function(event){event.preventDefault();var formData=$(this).serialize(),uri=window.location;$.ajax({type:"post",url:uri.protocol+"//"+uri.host+"/tutorial-ci/mahasiswa/update_action/",data:formData,dataType:"json",encode:!0,beforeSend:function(){$("#btn-update-mahasiswa").attr("disabled",""),$("#btn-update-mahasiswa").html("Loading...")},success:function(data){1==data.error?($("#error-update-nim").html(data.nim),$("#error-update-nama").html(data.nama),$("#error-update-jurusan").html(data.jurusan),$("#error-update-alamat").html(data.alamat),$("#error-update-email").html(data.email),$("#error-update-no_telp").html(data.no_telp),$("#btn-update-mahasiswa").removeAttr("disabled"),$("#btn-update-mahasiswa").html("Simpan")):2==data.error?(alert(data.status),$("#btn-update-mahasiswa").removeAttr("disabled"),$("#btn-update-mahasiswa").html("Simpan")):0==data.error&&(alert(data.status),$("#error-update-nim").html(""),$("#error-update-nama").html(""),$("#error-update-jurusan").html(""),$("#error-update-alamat").html(""),$("#error-update-email").html(""),$("#error-update-no_telp").html(""),$("#btn-update-mahasiswa").removeAttr("disabled"),$("#btn-update-mahasiswa").html("Simpan"))}}).fail(function(data){console.log(data)})})});